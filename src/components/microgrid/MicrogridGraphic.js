import React from 'react';
import PropTypes from 'prop-types';
import { TimelineMax } from 'gsap';

class MicrogridGraphic extends React.Component {
  componentDidMount () {
    this.props.addToTimeline(this.animate(), "0");
  }

  animate () {
    let building = this.building;
    return new TimelineMax()
      .from(building, 3, {opacity: 0, scale: 1.1});
  }

  render () {
    return (
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" viewBox="0 0 226.316 173.158">
          <g id="ground">
            <g>
              <g>
                <g>
                  <polygon fill="#139300" points="162.489,84.073 162.482,86.519 115.263,113.959 115.27,111.514"/>
                </g>
                <g>
                  <polygon fill="#0D6600" points="115.27,111.514 115.263,113.959 67.736,86.519 67.743,84.073"/>
                </g>
                <g>
                  <polygon fill="#15A500" points="162.489,84.073 115.27,111.514 67.743,84.073 114.961,56.633"/>
                </g>
              </g>
              <g>
                <g>
                  <polygon fill="#001D93" points="115.27,111.514 115.263,113.959 68.039,141.403 68.045,138.958"/>
                </g>
                <g>
                  <polygon fill="#001466" points="68.045,138.958 68.039,141.403 20.511,113.963 20.518,111.518"/>
                </g>
                <g>
                  <polygon fill="#0020A5" points="115.27,111.514 68.045,138.958 20.518,111.518 67.743,84.073"/>
                </g>
              </g>
              <g>
                <g>
                  <polygon fill="#001D93" points="210.022,111.517 210.015,113.962 162.797,141.402 162.804,138.957"/>
                </g>
                <g>
                  <polygon fill="#001466" points="162.804,138.957 162.797,141.402 115.263,113.959 115.27,111.514"/>
                </g>
                <g>
                  <polygon fill="#0020A5" points="210.022,111.517 162.804,138.957 115.27,111.514 162.489,84.073"/>
                </g>
              </g>
            </g>
          </g>
          <g id="building" ref={building => this.building = building}>
            <g id="cylinder_shadow" opacity=".8">
              <g>
                <g>
                  <path d="M121.806,82.98c5.031,2.905,5.057,7.608,0.059,10.513s-13.119,2.905-18.15,0c-5.025-2.901-5.057-7.608-0.059-10.513 S116.781,80.08,121.806,82.98z"/>
                </g>
              </g>
            </g>
            <g id="cylinder">
              <g>
                <g>
                  <g>
                    <defs>
                      <path id="SVGID_1_" d="M124.639,57.124l-0.088,30.977c-0.01,3.579-4.702,6.631-10.98,6.974 c-3.756,0.206-7.284-0.604-9.77-2.038c-1.938-1.119-3.243-2.619-3.529-4.317c-0.04-0.236-0.059-0.47-0.058-0.703l0.088-30.976 c0,0.232,0.019,0.467,0.058,0.703c0.286,1.698,1.59,3.197,3.529,4.316c2.485,1.435,6.013,2.244,9.77,2.039 C119.938,63.756,124.629,60.703,124.639,57.124z"/>
                    </defs>
                    <g clipPath="url(#SVGID_2_)">
                      <path fill="#00388C" d="M124.639,57.124l-0.088,30.977c0,0.035,0,0.071-0.001,0.106l0.088-30.976 C124.639,57.195,124.639,57.16,124.639,57.124"/>
                      <path fill="#003A91" d="M124.638,57.23l-0.088,30.976c-0.007,0.234-0.034,0.466-0.079,0.694l0.087-30.976 C124.604,57.696,124.631,57.464,124.638,57.23"/>
                      <path fill="#003C96" d="M124.558,57.925l-0.087,30.976c-0.046,0.229-0.111,0.456-0.195,0.678l0.088-30.976 C124.447,58.38,124.512,58.154,124.558,57.925"/>
                      <path fill="#003D9B" d="M124.364,58.603l-0.088,30.976c-0.088,0.234-0.196,0.464-0.323,0.688l0.088-30.976 C124.168,59.066,124.276,58.837,124.364,58.603"/>
                      <path fill="#003FA0" d="M124.041,59.292l-0.088,30.976c-0.141,0.249-0.305,0.493-0.491,0.729l0.088-30.976 C123.736,59.784,123.9,59.541,124.041,59.292"/>
                      <path fill="#0041A5" d="M123.549,60.021l-0.088,30.976c-0.223,0.284-0.478,0.558-0.763,0.82l0.088-30.976 C123.071,60.578,123.326,60.304,123.549,60.021"/>
                      <path fill="#0043A9" d="M122.787,60.84l-0.088,30.976c-0.438,0.405-0.947,0.783-1.517,1.128l0.088-30.976 C121.839,61.623,122.348,61.245,122.787,60.84"/>
                      <path fill="#0045AE" d="M121.27,61.968l-0.088,30.976c-0.831,0.502-1.791,0.935-2.855,1.278l0.088-30.976 C119.479,62.903,120.439,62.471,121.27,61.968"/>
                      <path fill="#0043A9" d="M118.415,63.246l-0.088,30.976c-0.709,0.229-1.465,0.418-2.258,0.562l0.088-30.976 C116.95,63.664,117.705,63.475,118.415,63.246"/>
                      <path fill="#0041A5" d="M116.156,63.808l-0.088,30.976c-0.509,0.092-1.033,0.166-1.571,0.219l0.088-30.976 C115.123,63.974,115.647,63.9,116.156,63.808"/>
                      <path fill="#003FA0" d="M114.585,64.027l-0.088,30.976c-0.304,0.03-0.613,0.054-0.926,0.071 c-0.145,0.008-0.29,0.015-0.435,0.02l0.087-30.976c0.145-0.005,0.29-0.011,0.435-0.02 C113.972,64.081,114.281,64.058,114.585,64.027"/>
                      <path fill="#003D9B" d="M113.224,64.118l-0.087,30.976c-0.419,0.014-0.835,0.016-1.247,0.006l0.088-30.977 C112.389,64.134,112.805,64.132,113.224,64.118"/>
                      <path fill="#003C96" d="M111.978,64.123L111.89,95.1c-0.399-0.01-0.795-0.032-1.185-0.063l0.088-30.977 C111.183,64.092,111.579,64.113,111.978,64.123"/>
                      <path fill="#003A91" d="M110.793,64.06l-0.088,30.977c-0.396-0.033-0.787-0.077-1.171-0.131l0.088-30.976 C110.006,63.983,110.397,64.027,110.793,64.06"/>
                      <path fill="#00388C" d="M109.622,63.929l-0.088,30.976c-0.407-0.058-0.807-0.127-1.198-0.208l0.088-30.976 C108.815,63.802,109.214,63.871,109.622,63.929"/>
                      <path fill="#003688" d="M108.423,63.721l-0.088,30.976c-0.438-0.091-0.866-0.196-1.282-0.314l0.088-30.977 C107.557,63.525,107.985,63.63,108.423,63.721"/>
                      <path fill="#003483" d="M107.142,63.406l-0.088,30.977c-0.515-0.147-1.01-0.314-1.482-0.5l0.088-30.976 C106.132,63.093,106.627,63.26,107.142,63.406"/>
                      <path fill="#00327E" d="M105.66,62.907l-0.088,30.976c-0.634-0.25-1.227-0.533-1.77-0.847 c-1.938-1.119-3.243-2.619-3.529-4.317c-0.04-0.236-0.059-0.47-0.058-0.703l0.088-30.976c0,0.232,0.019,0.467,0.058,0.703 c0.286,1.698,1.59,3.197,3.529,4.316C104.433,62.373,105.025,62.657,105.66,62.907"/>
                    </g>
                  </g>
                  <g>
                    <path fill="#0053D1" d="M121.052,52.1c1.939,1.12,3.243,2.621,3.529,4.32c0.652,3.874-4.235,7.313-10.922,7.678 c-3.756,0.206-7.284-0.604-9.77-2.039c-1.938-1.119-3.243-2.619-3.529-4.316c-0.651-3.874,4.249-7.313,10.935-7.678 C115.049,49.86,118.57,50.667,121.052,52.1z"/>
                  </g>
                </g>
              </g>
            </g>
          </g>
        </svg>
      </div>
    );
  }
}

MicrogridGraphic.propTypes = {
  timeline: PropTypes.object.isRequired,
  addToTimeline: PropTypes.func.isRequired
};

export default MicrogridGraphic;
